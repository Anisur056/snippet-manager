<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ID Card Generator</title>
    <style>
        /* --- General Page Styles --- */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 40px;
            padding: 20px;
            background-color: #f0f2f5;
        }

        .form-container, .preview-container {
            background: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .form-container h2, .preview-container h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }

        .input-group input[type="text"],
        .input-group input[type="email"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        
        .print-button {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 16px;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        .print-button:hover {
            background-color: #0056b3;
        }

        /* --- ID Card Specific Styles --- */
        #printableArea {
            width: 337px; /* Standard ID Card width in pixels at ~96dpi */
            height: 530px; /* Height based on the image's aspect ratio */
        }

        #idCardContainer {
            width: 100%;
            height: 100%;
            position: relative; /* Crucial for positioning text over the image */
            background-image: url('http://googleusercontent.com/file_content/0');
            background-size: cover;
            background-repeat: no-repeat;
            color: #0d2845; /* Default text color matching the template */
            font-weight: bold;
        }

        .overlay-text {
            position: absolute; /* Allows precise placement */
            text-align: left;
        }
        
        #userPhoto {
            position: absolute;
            top: 137px;
            left: 108px;
            width: 122px;
            height: 122px;
            object-fit: cover; /* Ensures the photo covers the area without distortion */
            border-radius: 50%; /* Make it a circle to fit in the hexagon */
            background-color: #fff;
        }

        #companyName {
            top: 75px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 16px;
            letter-spacing: 2px;
            color: #404040;
        }

        #userName {
            top: 288px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 28px;
            color: #0056a3;
        }

        #userTitle {
            top: 325px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 13px;
            letter-spacing: 1px;
            color: #404040;
        }
        
        #idNumber { top: 379px; left: 130px; font-size: 15px; }
        #dob { top: 407px; left: 130px; font-size: 15px; }
        #email { top: 435px; left: 130px; font-size: 15px; font-weight: normal; }
        #phone { top: 462px; left: 130px; font-size: 15px; }

    </style>
</head>
<body>

    <div class="form-container">
        <h2>Enter ID Card Details</h2>
        <div class="input-group">
            <label for="in_companyName">Company Name</label>
            <input type="text" id="in_companyName" onkeyup="updateText('companyName', this.value)" placeholder="Your Company LLC">
        </div>
        <div class="input-group">
            <label for="in_userName">Full Name</label>
            <input type="text" id="in_userName" onkeyup="updateText('userName', this.value)" placeholder="e.g., John Doe">
        </div>
        <div class="input-group">
            <label for="in_userTitle">Title / Designation</label>
            <input type="text" id="in_userTitle" onkeyup="updateText('userTitle', this.value)" placeholder="e.g., Graphic Designer">
        </div>
        <div class="input-group">
            <label for="in_idNumber">ID No</label>
            <input type="text" id="in_idNumber" onkeyup="updateText('idNumber', this.value)" placeholder="00000000">
        </div>
        <div class="input-group">
            <label for="in_dob">Date of Birth</label>
            <input type="text" id="in_dob" onkeyup="updateText('dob', this.value)" placeholder="MM/DD/YEAR">
        </div>
        <div class="input-group">
            <label for="in_email">Email</label>
            <input type="email" id="in_email" onkeyup="updateText('email', this.value)" placeholder="your.mail@example.com">
        </div>
         <div class="input-group">
            <label for="in_phone">Phone</label>
            <input type="text" id="in_phone" onkeyup="updateText('phone', this.value)" placeholder="+00 000 000">
        </div>
        <div class="input-group">
            <label for="in_photo">Upload Photo</label>
            <input type="file" id="in_photo" accept="image/*" onchange="loadPhoto(event)">
        </div>
    </div>

    <div class="preview-container">
        <h2>Live Preview</h2>
        <div id="printableArea">
            <div id="idCardContainer">
                <img id="userPhoto" src="https://placehold.co/150x150/EFEFEF/AAAAAA&text=PHOTO" alt="User Photo">

                <div id="companyName" class="overlay-text">COMPANYNAME</div>
                <div id="userName" class="overlay-text">YOUR NAME</div>
                <div id="userTitle" class="overlay-text">GRAPHIC DESIGNER</div>
                <div id="idNumber" class="overlay-text">: 00000000</div>
                <div id="dob" class="overlay-text">: MM/DD/YEAR</div>
                <div id="email" class="overlay-text">: your.mail@goes.here</div>
                <div id="phone" class="overlay-text">: +00 000 000</div>
            </div>
        </div>
        <button class="print-button" onclick="printDiv('printableArea')">Print ID Card</button>
    </div>

<script>
    // Function to update text on the card preview in real-time
    function updateText(elementId, text) {
        // For most fields, just update the text. Add the colon for detail fields.
        const prefix = ['idNumber', 'dob', 'email', 'phone'].includes(elementId) ? ': ' : '';
        document.getElementById(elementId).innerText = prefix + (text || '');
    }

    // Function to read and display the uploaded photo
    function loadPhoto(event) {
        const photo = document.getElementById('userPhoto');
        photo.src = URL.createObjectURL(event.target.files[0]);
        photo.onload = function() {
            URL.revokeObjectURL(photo.src) // free memory
        }
    }

    // Function to print the ID card div formatted for A4
    function printDiv(divId) {
        var divToPrint = document.getElementById(divId);
        var printWindow = window.open('', '', 'height=800,width=800');

        printWindow.document.write('<html><head><title>Print ID Card</title>');
        printWindow.document.write(`
            <style>
                /* Set the page size to A4 */
                @page {
                    size: A4;
                    margin: 20mm;
                }
                body {
                    margin: 0;
                    display: flex; /* Use flexbox for easy centering */
                    justify-content: center;
                    align-items: flex-start;
                }
                /* Styles for the ID card itself */
                #printableArea {
                    width: 337px;
                    height: 530px;
                }
                #idCardContainer {
                    width: 100%;
                    height: 100%;
                    position: relative;
                    background-image: url('http://googleusercontent.com/file_content/0');
                    background-size: cover;
                    background-repeat: no-repeat;
                    color: #0d2845;
                    font-weight: bold;
                    font-family: Arial, sans-serif;
                }
                .overlay-text {
                    position: absolute;
                    text-align: left;
                }
                #userPhoto {
                    position: absolute; top: 137px; left: 108px;
                    width: 122px; height: 122px;
                    object-fit: cover; border-radius: 50%;
                }
                #companyName { top: 75px; left: 0; width: 100%; text-align: center; font-size: 16px; letter-spacing: 2px; color: #404040; }
                #userName { top: 288px; left: 0; width: 100%; text-align: center; font-size: 28px; color: #0056a3; }
                #userTitle { top: 325px; left: 0; width: 100%; text-align: center; font-size: 13px; letter-spacing: 1px; color: #404040; }
                #idNumber { top: 379px; left: 130px; font-size: 15px; }
                #dob { top: 407px; left: 130px; font-size: 15px; }
                #email { top: 435px; left: 130px; font-size: 15px; font-weight: normal; }
                #phone { top: 462px; left: 130px; font-size: 15px; }
            </style>
        `);
        printWindow.document.write('</head><body>');
        // Write only the printable area's content to the new window
        printWindow.document.write(divToPrint.outerHTML);
        printWindow.document.write('</body></html>');

        printWindow.document.close();
        printWindow.focus();
        // Use a timeout to ensure all content and images are loaded before printing
        setTimeout(function(){
            printWindow.print();
            printWindow.close();
        }, 500);
    }
</script>

</body>
</html>